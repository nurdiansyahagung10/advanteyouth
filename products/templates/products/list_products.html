{% extends 'base.html' %}

{% load static %}
{% block conten %}
{% include 'snippets/navluas.html' %}
<div class="container-xxl px-4">
  <div class="d-flex justify-content-between align-items-center mt-3">
                <h5 class="mt-lg-3">Recomendation for You</h5>
                <i class='bx bx-list-ul fs-3 ' id="recomendation-button" style="cursor: pointer;"></i>

                <script>
                    
                        document.querySelector('#animasi-kotak').addEventListener('click', function () {
                            document.querySelector('#animasi-kotak').classList.toggle('kotak-hover');
                        });
                        document.querySelector('#animasi-kotak2').addEventListener('click', function () {
                            document.querySelector('#animasi-kotak2').classList.toggle('kotak-hover');
                        });

                </script>
            </div>
   <main id="main-besar" class="row">
                {% for product in products %}
                <!-- postingan -->
                <div class="card mb-3 border-0 col-md-6 col-12" style="background-color: #f0f6f6; ">
                    <div class="card-header d-flex justify-content-between align-items-center" style="background-color: #f0f6f6;">
                        <!-- foto profil, nama, follow -->
                        <div class="d-flex align-items-center gap-2">
                            <div class="rounded-circle border" style="padding: 1.5px;">
                                <img src="{% static 'img/default-profile.svg' %}" alt="Foto Profil"
                                    class="rounded-circle mr-2 border" width="45" height="45">
                            </div>
                            <div class="d-flex flex-column">
                                <big class="fs-6 fw-bold">{{product.store_id}}</big>
                                <small>{{product.store_id}}</small>
                            </div>
                        </div>

                        <!-- follow, titik 3 -->
                        <div>
                            <button class="btn" style="background-color: black; color: white;">Follow</button>
                        </div>
                    </div>
                    

                    <!-- gambar postingan -->
                    <!-- image gallery -->
                    <div id="{{product.name_product}}" class="carousel slide pointer-event">
                        <div class="carousel-inner ">
                            {% if product.productimage_set.all %}
                                <div class="d-flex  justify-content-center border border-top-0 bg-white"
                                    style="max-height: 700px; height: 700px;  ">
                                    <img src="{{ product.productimage_set.first.image.url }}"
                                        class="d-block img-fluid h-100 " alt="{% static 'img/default-profile.svg' %}">
                                </div>
                            {% endif %}
                        </div>
                    </div>


                    <div class="card-body  p-3 " >
                        <div class="d-flex justify-content-between align-items-center ">
                            <!-- likes -->
                            <div class="d-flex gap-3 w-100">
                                <div class="likes">
                                    <i class='bx bx-heart fs-5'></i>
                                    <span>123</span>
                                </div>
                                <!-- comments -->
                                <div class="comments">
                                    <i class='bx bx-message-square-dots fs-5'></i>
                                    <span>45</span>
                                </div>
                                <!-- share -->
                                <div class="share">
                                    <i class='bx bxs-share-alt fs-5'></i>
                                </div>
                            </div>
                            <!-- scroll indicator -->
                            <div class="d-flex gap-3 w-100 justify-content-end">
                                <div class=""><small class="fw-bold">RP {{product.price}}</small></div>
                                <!-- save -->
                                <div class="save">
                                    <i class='bx bx-bookmark fs-5'></i>
                                </div>
                            </div>
                        </div>

                        <!-- keterangan gambar -->
                        <div class="mt-2 d-flex flex-column">
                            <div class="d-flex justify-content-between ">
                            <div style="width: 90%;" >
                                <h6 style="font-size: 0.9rem;"> <span class="fw-bold">{{product.name_product}}</span> {{product.description}} </h6>
                            </div>
                <a href="{% url 'detailbarang' slug=product.slug %}" class="text-black">
                            <i class='bx bx-basket fs-1 border p-2'></i>
                            </a>
                            </div>
                            <div>
                                <small>{{product.upload_date}}</small>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </main>
             <main id="main-kecil" class="hilang">
                <div class="row px-3 px-sm-0">


                    {% for product in products %}


                    <div class="col-md-6 col-12 col-xl-4 mb-4" >
                        <a href="/shop/detailbarang/{{data.slug}}" style="text-decoration: none;">
                            <div class="card h-100 p-2 border-0 ">
                                <div class=" p-2 d-flex justify-content-center border"
                                    style="height: 200px; max-height: 200px">
                                    {% if product.productimage_set.all %}
                                    <img src="{{ product.productimage_set.first.image.url }}" class=" img-fluid h-100"
                                        alt="{% static 'img/default-profile.svg' %}">
                                    {% endif %}
                                </div>
                                <div class="">
                                    <small class="fw-bold">{{product.name_product}}</small>
                                    <div class=""
                                        style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; ">
                                        <small>{{product.description}}</small>
                                    </div>
                                </div>
                                <div class=" d-flex flex-column " style="width: 100%; ">
                                    <h6 style="color: black;">RP {{product.price}}</h6>
                                    <div class="d-flex justify-content-between align-items-center ">
                                        <!-- likes -->
                                        <div class="d-flex gap-3 w-100">
                                            <div class="likes">
                                                <i class='bx bx-heart fs-6'></i>
                                                <span>123</span>
                                            </div>
                                            <!-- comments -->
                                            <div class="comments">
                                                <i class='bx bx-message-square-dots fs-6'></i>
                                                <span>45</span>
                                            </div>
                                            <div class="save">
                                                <i class='bx bx-bookmark fs-6'></i>
                                            </div>
                                        </div>
                                        <!-- scroll indicator -->


                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    {% endfor %}

                </div>
            </main>
</div>
            <script>
                document.querySelector('#recomendation-button').addEventListener('click', function () {
                    document.querySelector('#main-kecil').classList.toggle('hilang');
                    document.querySelector('#main-besar').classList.toggle('hilang');
                });
            </script>
                {% endblock conten %}
    